@using WebMaze.Models.PoliceCertificate
@model PoliceCertificateViewModel

@{
    ViewBag.Title = "Сертификаты";
    var price = $"{Model.Price}$";
    if(Model.Expires != null)
    {
        price += " / в месяц";
    }
}

@section Scripts{
    <script src="~/js/Police.js"></script>
}

<div class="row mt-3 mb-3">
    <h2 class="col-md-12 mb-4 text-center">Получение сертификата</h2>
    <div class="col-md-6 order-last order-md-1">
        <form asp-controller="PoliceCertificate" asp-action="MakeCertificate" method="post" class="needs-validation" novalidate>
            @Html.AntiForgeryToken()
            <div class="form-group row">
                <label class="col-sm-4">Специальность: </label>
                <div class="col-sm-8">
                    <p class="form-control mb-0">@Model.Speciality</p>
                </div>
            </div>
            <div class="form-group row">
                <label class="col-sm-4">Начало: </label>
                <div class="col-sm-8">
                    <p class="form-control mb-0">@Model.Starts.ToString("dd MMM yyyy")</p>
                </div>
            </div>
            @if (Model.Expires != null)
            {
                <div class="form-group row">
                    <label class="col-sm-4">Заканчивается: </label>
                    <div class="col-sm-8">
                        <p class="form-control mb-0">@Model.Expires?.ToString("dd MMM yyyy")</p>
                    </div>
                </div>
            }
            <div class="form-group row">
                <label class="col-sm-4">Цена: </label>
                <div class="col-sm-8">
                    <p class="form-control mb-0">@price</p>
                </div>
            </div>
            <div class="form-check mt-3 mb-3">
                <input class="form-check-input" type="checkbox" id="agreed" required />
                <label class="form-check-label" for="agreed">Я принимаю условия и обязанности полицейского*</label>
                <div class="invalid-feedback">Примите соглашение</div>
            </div>

            @if (Model.Expires != null)
            {
                <input hidden type="date" name="expires" value="@Model.Expires?.ToString("yyyy-MM-dd")" />
            }
            <input hidden type="text" name="speciality" value="@Model.Speciality" />
            <input hidden type="date" name="starts" value="@Model.Starts.ToString("yyyy-MM-dd")" />
            <input hidden type="number" name="price" value="@Model.Price" />
            <input hidden type="text" name="RedirectToController" value="@Model.RedirectToController" />
            <input hidden type="text" name="RedirectToAction" value="@Model.RedirectToAction" />
            <div class="form-group">
                <button type="submit" class="btn btn-primary">Стать полицейским</button>
            </div>
        </form>
    </div>
    <div class="col-md-6 order-1 order-md-last">
        <div id="carouselIndicator" class="carousel slide" data-ride="carousel" data-interval="4500">
            <ol class="carousel-indicators">
                <li data-target="#carouselIndicator" data-slide-to="0" class="active"></li>
                <li data-target="#carouselIndicator" data-slide-to="1"></li>
                <li data-target="#carouselIndicator" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img class="d-block w-100" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22800%22%20height%3D%22400%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20400%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_176c7b2ff61%20text%20%7B%20fill%3A%23555%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A40pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_176c7b2ff61%22%3E%3Crect%20width%3D%22800%22%20height%3D%22400%22%20fill%3D%22%23777%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22285.921875%22%20y%3D%22217.7609375%22%3EFirst%20slide%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E" />
                </div>
                <div class="carousel-item">
                    <img class="d-block w-100" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22800%22%20height%3D%22400%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20400%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_176c7b2ff62%20text%20%7B%20fill%3A%23444%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A40pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_176c7b2ff62%22%3E%3Crect%20width%3D%22800%22%20height%3D%22400%22%20fill%3D%22%23666%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22247.3125%22%20y%3D%22217.7609375%22%3ESecond%20slide%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E" />
                </div>
                <div class="carousel-item">
                    <img class="d-block w-100" src="data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%22800%22%20height%3D%22400%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20800%20400%22%20preserveAspectRatio%3D%22none%22%3E%3Cdefs%3E%3Cstyle%20type%3D%22text%2Fcss%22%3E%23holder_176c7b2ff63%20text%20%7B%20fill%3A%23333%3Bfont-weight%3Anormal%3Bfont-family%3AHelvetica%2C%20monospace%3Bfont-size%3A40pt%20%7D%20%3C%2Fstyle%3E%3C%2Fdefs%3E%3Cg%20id%3D%22holder_176c7b2ff63%22%3E%3Crect%20width%3D%22800%22%20height%3D%22400%22%20fill%3D%22%23555%22%3E%3C%2Frect%3E%3Cg%3E%3Ctext%20x%3D%22277%22%20y%3D%22217.7609375%22%3EThird%20slide%3C%2Ftext%3E%3C%2Fg%3E%3C%2Fg%3E%3C%2Fsvg%3E" />
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselIndicator" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselIndicator" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
</div>
